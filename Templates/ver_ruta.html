{% extends "base.html" %}

{% block title %}Detalles de la Ruta{% endblock %}

{% block content %}
<div class="row">
    <!-- Formulario al costado izquierdo -->
    <div class="col-md-4">
        <h2>Detalles de la Ruta</h2>
        <p><strong>Origen:</strong> {{ route.origen }}</p>
        <p><strong>Destino:</strong> {{ route.destino }}</p>
        <p><strong>Distancia Total:</strong> {{ route.distancia_total }} km</p>
        <p><strong>Fecha de Creación:</strong> {{ route.fecha_creacion }}</p>
    </div>

    <!-- Mapa al costado derecho -->
    <div class="col-md-8">
        <div id="map" style="height: 500px; border: 1px solid #ddd;"></div>
    </div>
</div>

<script>
    // Asegurar que las variables estén correctamente serializadas
    window.routeCoordinates = {{ coordinates|tojson|safe|default('[]') }};
    window.routePoints = {{ route_points|tojson|safe|default('[]') }};
</script>
<script src="{{ url_for('static', filename='js/map.js') }}"></script>
{% endblock %}